# 多链代币余额查询工具

一个浏览器端工具：可在同一页面创建多个“查询标签”，对不同链/不同地址/不同代币的余额进行定时刷新，并提供余额报警（页面标红 + 蜂鸣 + 可选浏览器通知）。

## 功能

- 多链查询：内置 ETH / BSC / Polygon / Arbitrum / Optimism / Base / Avalanche（EVM）+ TRON，并可修改 RPC
- 常用代币预设：按链提供 USDT / USDC 等常用合约地址，一键填充
- 项目分组：先创建项目名称，同一项目的多个地址标签会自动分组并并排展示
- 配置备份：支持导出/导入配置 JSON 与剪贴板备份，避免清理缓存后丢失
- 查询标签：填入 地址、代币合约、代币符号 后创建标签；每个标签独立展示余额、更新时间、错误信息
- 定时自动刷新：可开关并设置刷新间隔（秒）
- 余额报警：支持“高于 / 低于 某阈值”触发；触发时页面标红 + 蜂鸣，可选浏览器通知
- 本地持久化：链配置、标签列表、刷新设置会保存到 localStorage，刷新页面不丢失

## 使用

### 1) 安装依赖

```bash
npm install
```

### 2) 启动开发环境

```bash
npm run dev
```

### 3) 创建查询标签

在页面的“创建查询标签”区域依次填写：
- 链：选择预置链
- RPC：默认带出，也可按需改成你自己的节点
- 项目：选择已有项目或创建新项目
- 常用代币：可直接选择 USDT/USDC 等自动填充合约与符号
- ChainId：仅 EVM 链需要；可留空（会使用预置），也可手动填
- 地址：EVM 为 0x 开头；TRON 为 T 开头（也支持 41... hex）
- 代币合约：EVM 为 0x 开头；TRON 为 T 开头（也支持 41... hex）
- 代币符号：可填可不填（会尝试从合约 symbol() 获取，失败则用手填）

点击“创建标签”即可开始查询。

### 4) 备份与恢复配置

由于本工具默认将配置保存在浏览器本地（localStorage），如果清除浏览器缓存/站点数据，配置会被清空。

建议在“用户与配置”中：
- 导出配置(JSON)：下载一份配置文件（可用于下次导入恢复）
- 复制配置：复制 JSON 到剪贴板（可粘贴到记事本保存）
- 导入(覆盖/合并)：通过文件或剪贴板恢复配置

### 4) 开启报警

- 创建时可先勾选“启用报警”
- 或者在标签卡片底部勾选“启用报警”，并填写阈值
- 点击右上角“允许通知”可启用浏览器系统通知（可选）

## 说明

- EVM 链使用 ethers v5，通过 RPC 调用 ERC20 的 balanceOf/decimals/symbol/name 读取数据
- TRON 使用 tronweb 调用 TRC20 的 balanceOf/decimals/symbol/name 读取数据
- TRON 的余额读取走 /wallet/triggersmartcontract 的 balanceOf(address) 常量调用（方法选择器 70a08231），对 USDT 更稳定
- TRON 默认 RPC 为 /tron（开发环境已内置代理转发到 https://api.trongrid.io，避免浏览器 CORS 拦截）；如你使用 TronGrid，建议填写 TRON-PRO-API-KEY 以避免限流
- 若你将本项目作为纯静态站点部署，需要在同域下配置 /tron 反向代理（指向 TronGrid 或你自建 TRON 节点），否则浏览器可能因 CORS 无法直连公共节点
- 某些代币合约可能不实现 symbol()/name() 或会 revert，此时不会影响余额读取
